{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vin\\xEDcius\\\\Desktop\\\\repoProject\\\\client\\\\src\\\\components\\\\Repo\\\\Repo.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport \"./Style.css\";\nimport Axios from \"axios\";\nimport Select from \"react-select\";\nimport AddBookForm from \"../FormAddBook/AddBookForm\";\nimport BookCard from \"../BookCard/BookCard\";\nimport NavbarAdmin from \"../../layouts/NavbarAdmin/NavbarAdmin\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Repo() {\n  _s();\n\n  const [repoList, setRepoList] = useState([]);\n  const [id, setId] = useState(\"\");\n  const [profileList, setProfileList] = useState([]);\n  useEffect(() => {\n    getProfiles();\n  }, []);\n\n  const getProfiles = () => {\n    Axios.get(\"http://localhost:3001/profileslist\").then(response => {\n      const profiles = response.data;\n      console.log(\"profiles: \" + profiles);\n      setProfileList(profiles);\n      console.log(\"profileList: \" + profileList);\n    }).catch(error => console.error(`Error: ${error}`));\n  };\n\n  const handleChange = e => {\n    setId(e.value);\n  };\n\n  const getRepo = id => {\n    Axios.get(`http://localhost:3001/repo/${id}`).then(response => {\n      setRepoList(response.data);\n    });\n  };\n\n  const removeBook = idrepo => {\n    Axios.get(`http://localhost:3001/repo/delete/${idrepo}`).then(response => {});\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"repo-container\",\n    children: [/*#__PURE__*/_jsxDEV(NavbarAdmin, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"div-searchbar\",\n      children: [/*#__PURE__*/_jsxDEV(Select, {\n        className: \"search-select\",\n        classNamePrefix: \"select\",\n        isClearable: true,\n        isSearchable: true,\n        name: \"profile\",\n        options: profileList,\n        placeholder: \"Nome...\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => getRepo(id),\n        children: \"Buscar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), repoList.map((val, key) => {\n      var idrepo = val.idrepo;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"repo\",\n        children: [/*#__PURE__*/_jsxDEV(BookCard, {\n          title: val.title,\n          author: val.author,\n          imgName: require(`../../img/${val.img_name}.jpg`),\n          editora: val.editora,\n          pages: val.pgs,\n          url: val.url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => removeBook(idrepo),\n          children: \"Remover livro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(AddBookForm, {\n      idProfile: id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Repo, \"p/GBn8qFYLs8YvOxXn+v/G9Wa9g=\");\n\n_c = Repo;\nexport default Repo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Repo\");","map":{"version":3,"sources":["C:/Users/VinÃ­cius/Desktop/repoProject/client/src/components/Repo/Repo.js"],"names":["useState","useEffect","Axios","Select","AddBookForm","BookCard","NavbarAdmin","Repo","repoList","setRepoList","id","setId","profileList","setProfileList","getProfiles","get","then","response","profiles","data","console","log","catch","error","handleChange","e","value","getRepo","removeBook","idrepo","map","val","key","title","author","require","img_name","editora","pgs","url"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAO,aAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,WAAP,MAAwB,uCAAxB;;;AAEA,SAASC,IAAT,GAAgB;AAAA;;AACd,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACU,EAAD,EAAKC,KAAL,IAAcX,QAAQ,CAAC,EAAD,CAA5B;AACA,QAAM,CAACY,WAAD,EAAcC,cAAd,IAAgCb,QAAQ,CAAC,EAAD,CAA9C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,WAAW;AACZ,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,WAAW,GAAG,MAAM;AACxBZ,IAAAA,KAAK,CAACa,GAAN,CAAU,oCAAV,EACGC,IADH,CACSC,QAAD,IAAc;AAClB,YAAMC,QAAQ,GAAGD,QAAQ,CAACE,IAA1B;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAeH,QAA3B;AACAL,MAAAA,cAAc,CAACK,QAAD,CAAd;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkBT,WAA9B;AACD,KANH,EAOGU,KAPH,CAOUC,KAAD,IAAWH,OAAO,CAACG,KAAR,CAAe,UAASA,KAAM,EAA9B,CAPpB;AAQD,GATD;;AAWA,QAAMC,YAAY,GAAIC,CAAD,IAAO;AAC1Bd,IAAAA,KAAK,CAACc,CAAC,CAACC,KAAH,CAAL;AACD,GAFD;;AAIA,QAAMC,OAAO,GAAIjB,EAAD,IAAQ;AACtBR,IAAAA,KAAK,CAACa,GAAN,CAAW,8BAA6BL,EAAG,EAA3C,EAA8CM,IAA9C,CAAoDC,QAAD,IAAc;AAC/DR,MAAAA,WAAW,CAACQ,QAAQ,CAACE,IAAV,CAAX;AACD,KAFD;AAGD,GAJD;;AAMA,QAAMS,UAAU,GAAIC,MAAD,IAAY;AAC7B3B,IAAAA,KAAK,CAACa,GAAN,CAAW,qCAAoCc,MAAO,EAAtD,EAAyDb,IAAzD,CAA+DC,QAAD,IAAc,CAC3E,CADD;AAED,GAHD;;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA,4BACE,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,8BACE,QAAC,MAAD;AACE,QAAA,SAAS,EAAC,eADZ;AAEE,QAAA,eAAe,EAAC,QAFlB;AAGE,QAAA,WAAW,EAAE,IAHf;AAIE,QAAA,YAAY,EAAE,IAJhB;AAKE,QAAA,IAAI,EAAC,SALP;AAME,QAAA,OAAO,EAAEL,WANX;AAOE,QAAA,WAAW,EAAC,SAPd;AAQE,QAAA,QAAQ,EAAEY;AARZ;AAAA;AAAA;AAAA;AAAA,cADF,eAWE;AAAQ,QAAA,OAAO,EAAE,MAAMG,OAAO,CAACjB,EAAD,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAXF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,EAeGF,QAAQ,CAACsB,GAAT,CAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC1B,UAAIH,MAAM,GAAGE,GAAG,CAACF,MAAjB;AACA,0BACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,gCACE,QAAC,QAAD;AACE,UAAA,KAAK,EAAEE,GAAG,CAACE,KADb;AAEE,UAAA,MAAM,EAAEF,GAAG,CAACG,MAFd;AAGE,UAAA,OAAO,EAAEC,OAAO,CAAE,aAAYJ,GAAG,CAACK,QAAS,MAA3B,CAHlB;AAIE,UAAA,OAAO,EAAEL,GAAG,CAACM,OAJf;AAKE,UAAA,KAAK,EAAEN,GAAG,CAACO,GALb;AAME,UAAA,GAAG,EAAEP,GAAG,CAACQ;AANX;AAAA;AAAA;AAAA;AAAA,gBADF,eASE;AAAQ,UAAA,OAAO,EAAE,MAAMX,UAAU,CAACC,MAAD,CAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAaD,KAfA,CAfH,eA+BE,QAAC,WAAD;AAAa,MAAA,SAAS,EAAEnB;AAAxB;AAAA;AAAA;AAAA;AAAA,YA/BF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmCD;;GAtEQH,I;;KAAAA,I;AAwET,eAAeA,IAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport \"./Style.css\";\nimport Axios from \"axios\";\nimport Select from \"react-select\";\nimport AddBookForm from \"../FormAddBook/AddBookForm\";\nimport BookCard from \"../BookCard/BookCard\";\nimport NavbarAdmin from \"../../layouts/NavbarAdmin/NavbarAdmin\";\n\nfunction Repo() {\n  const [repoList, setRepoList] = useState([]);\n  const [id, setId] = useState(\"\");\n  const [profileList, setProfileList] = useState([]);\n\n  useEffect(() => {\n    getProfiles();\n  }, []);\n\n  const getProfiles = () => {\n    Axios.get(\"http://localhost:3001/profileslist\")\n      .then((response) => {\n        const profiles = response.data;\n        console.log(\"profiles: \" + profiles);\n        setProfileList(profiles);\n        console.log(\"profileList: \" + profileList);\n      })\n      .catch((error) => console.error(`Error: ${error}`));\n  };\n\n  const handleChange = (e) => {\n    setId(e.value);\n  };\n\n  const getRepo = (id) => {\n    Axios.get(`http://localhost:3001/repo/${id}`).then((response) => {\n      setRepoList(response.data);\n    });\n  };\n\n  const removeBook = (idrepo) => {\n    Axios.get(`http://localhost:3001/repo/delete/${idrepo}`).then((response) => {\n    });\n  };\n\n  return (\n    <div className=\"repo-container\">\n      <NavbarAdmin />\n      <div className=\"div-searchbar\">\n        <Select\n          className=\"search-select\"\n          classNamePrefix=\"select\"\n          isClearable={true}\n          isSearchable={true}\n          name=\"profile\"\n          options={profileList}\n          placeholder=\"Nome...\"\n          onChange={handleChange}\n        />\n        <button onClick={() => getRepo(id)}>Buscar</button>\n      </div>\n      {repoList.map((val, key) => {\n        var idrepo = val.idrepo\n        return (\n          <div className=\"repo\">\n            <BookCard\n              title={val.title}\n              author={val.author}\n              imgName={require(`../../img/${val.img_name}.jpg`)}\n              editora={val.editora}\n              pages={val.pgs}\n              url={val.url}\n            />\n            <button onClick={() => removeBook(idrepo)}>Remover livro</button>\n          </div>\n        );\n      })}\n      <AddBookForm idProfile={id} />\n    </div>\n  );\n}\n\nexport default Repo;\n"]},"metadata":{},"sourceType":"module"}